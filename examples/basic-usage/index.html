<html>
  <head>
    <title>react-fetch - Basic usage</title>
    <script src="https://unpkg.com/react@16.7.0/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16.7.0/umd/react-dom.development.js"></script>
    <script src="./../../dist/react-fetch.js"></script>
  </head>
  <body>
    <div id="root"></div>

    <script>
      const el = React.createElement

      window.onload = function() {
        class GitHubUser extends React.Component {
          render() {
            return el(ReactFetch.default, {
              request: 'https://api.github.com/search/users?q=' + this.props.name,
              onLoading: function () { return el('div', null, 'Loading...') },
              onError: function (error) { return el('div', null, `Error: ${error.toString()}`) },
              onResponse: function (response) {
                const {avatar_url, login} = response.items[0]
                return el('div', {className: 'user', children: [
                  el('p', {key: 'login'}, login),
                  el('img', {src: avatar_url, key: 'avatar'})
                ]})
              }
            })
          }
        }

        ReactDOM.render(
          el(GitHubUser, { name : 'alexanderdzhoganov' }),
          document.getElementById('root')
        )
      }
    </script>

    <style>
      html {
        font-family: sans-serif;
      }

      .user {
        display: flex;
        flex-direction: row;
        align-items: center;
      }

      p {
        font-size: 2em;
      }

      img {
        width: 128px;
        margin: 1em;
      }
    </style>
  </body>
</html>
